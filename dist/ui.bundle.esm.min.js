var w=new Map,I={set(n,t,e){w.has(n)||w.set(n,new Map);let r=w.get(n);if(!r.has(t)&&r.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`);return}r.set(t,e)},get(n,t){return w.has(n)&&w.get(n).get(t)||null},remove(n,t){if(!w.has(n))return;let e=w.get(n);e.delete(t),e.size===0&&w.delete(n)}};var q="transitionend",z=n=>(n&&window.CSS&&window.CSS.escape&&(n=n.replace(/#([^\s"#']+)/g,(t,e)=>`#${CSS.escape(e)}`)),n),_t=n=>n==null?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase();var ne=n=>{if(!n)return 0;let{transitionDuration:t,transitionDelay:e}=window.getComputedStyle(n),r=Number.parseFloat(t),s=Number.parseFloat(e);return!r&&!s?0:(t=t.split(",")[0],e=e.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(e))*1e3)},re=n=>{n.dispatchEvent(new Event(q))},b=n=>!n||typeof n!="object"?!1:(typeof n.jquery<"u"&&(n=n[0]),typeof n.nodeType<"u"),C=n=>b(n)?n.jquery?n[0]:n:typeof n=="string"&&n.length>0?document.querySelector(z(n)):null,k=n=>{if(!b(n)||n.getClientRects().length===0)return!1;let t=getComputedStyle(n).getPropertyValue("visibility")==="visible",e=n.closest("details:not([open])");if(!e)return t;if(e!==n){let r=n.closest("summary");if(r&&r.parentNode!==e||r===null)return!1}return t},P=n=>!n||n.nodeType!==Node.ELEMENT_NODE||n.classList.contains("disabled")?!0:typeof n.disabled<"u"?n.disabled:n.hasAttribute("disabled")&&n.getAttribute("disabled")!=="false";var $=n=>{n.offsetHeight},U=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Y=[],se=n=>{document.readyState==="loading"?(Y.length||document.addEventListener("DOMContentLoaded",()=>{for(let t of Y)t()}),Y.push(n)):n()},Q=()=>document.documentElement.dir==="rtl",Et=n=>{se(()=>{let t=U();if(t){let e=n.NAME,r=t.fn[e];t.fn[e]=n.jQueryInterface,t.fn[e].Constructor=n,t.fn[e].noConflict=()=>(t.fn[e]=r,n.jQueryInterface)}})},y=(n,t=[],e=n)=>typeof n=="function"?n(...t):e,V=(n,t,e=!0)=>{if(!e){y(n);return}let s=ne(t)+5,o=!1,i=({target:a})=>{a===t&&(o=!0,t.removeEventListener(q,i),y(n))};t.addEventListener(q,i),setTimeout(()=>{o||re(t)},s)};var ie=/[^.]*(?=\..*)\.|.*/,oe=/\..*/,ae=/::\d+$/,G={},wt=1,bt={mouseenter:"mouseover",mouseleave:"mouseout"},le=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Tt(n,t){return t&&`${t}::${wt++}`||n.uidEvent||wt++}function At(n){let t=Tt(n);return n.uidEvent=t,G[t]=G[t]||{},G[t]}function ce(n,t){return function e(r){return Z(r,{delegateTarget:n}),e.oneOff&&X.off(n,r.type,t),t.apply(n,[r])}}function ue(n,t,e){return function r(s){let o=n.querySelectorAll(t);for(let{target:i}=s;i&&i!==this;i=i.parentNode)for(let a of o)if(a===i)return Z(s,{delegateTarget:i}),r.oneOff&&X.off(n,s.type,t,e),e.apply(i,[s])}}function Lt(n,t,e=null){return Object.values(n).find(r=>r.callable===t&&r.delegationSelector===e)}function vt(n,t,e){let r=typeof t=="string",s=r?e:t||e,o=St(n);return le.has(o)||(o=n),[r,s,o]}function yt(n,t,e,r,s){if(typeof t!="string"||!n)return;let[o,i,a]=vt(t,e,r);t in bt&&(i=(ee=>function(x){if(!x.relatedTarget||x.relatedTarget!==x.delegateTarget&&!x.delegateTarget.contains(x.relatedTarget))return ee.call(this,x)})(i));let c=At(n),f=c[a]||(c[a]={}),p=Lt(f,i,o?e:null);if(p){p.oneOff=p.oneOff&&s;return}let E=Tt(i,t.replace(ie,"")),u=o?ue(n,e,i):ce(n,i);u.delegationSelector=o?e:null,u.callable=i,u.oneOff=s,u.uidEvent=E,f[E]=u,n.addEventListener(a,u,o)}function J(n,t,e,r,s){let o=Lt(t[e],r,s);o&&(n.removeEventListener(e,o,!!s),delete t[e][o.uidEvent])}function de(n,t,e,r){let s=t[e]||{};for(let[o,i]of Object.entries(s))o.includes(r)&&J(n,t,e,i.callable,i.delegationSelector)}function St(n){return n=n.replace(oe,""),bt[n]||n}var X={on(n,t,e,r){yt(n,t,e,r,!1)},one(n,t,e,r){yt(n,t,e,r,!0)},off(n,t,e,r){if(typeof t!="string"||!n)return;let[s,o,i]=vt(t,e,r),a=i!==t,c=At(n),f=c[i]||{},p=t.startsWith(".");if(typeof o<"u"){if(!Object.keys(f).length)return;J(n,c,i,o,s?e:null);return}if(p)for(let E of Object.keys(c))de(n,c,E,t.slice(1));for(let[E,u]of Object.entries(f)){let gt=E.replace(ae,"");(!a||t.includes(gt))&&J(n,c,i,u.callable,u.delegationSelector)}},trigger(n,t,e){if(typeof t!="string"||!n)return null;let r=U(),s=St(t),o=t!==s,i=null,a=!0,c=!0,f=!1;o&&r&&(i=r.Event(t,e),r(n).trigger(i),a=!i.isPropagationStopped(),c=!i.isImmediatePropagationStopped(),f=i.isDefaultPrevented());let p=Z(new Event(t,{bubbles:a,cancelable:!0}),e);return f&&p.preventDefault(),c&&n.dispatchEvent(p),p.defaultPrevented&&i&&i.preventDefault(),p}};function Z(n,t={}){for(let[e,r]of Object.entries(t))try{n[e]=r}catch{Object.defineProperty(n,e,{configurable:!0,get(){return r}})}return n}var l=X;function xt(n){if(n==="true")return!0;if(n==="false")return!1;if(n===Number(n).toString())return Number(n);if(n===""||n==="null")return null;if(typeof n!="string")return n;try{return JSON.parse(decodeURIComponent(n))}catch{return n}}function tt(n){return n.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}var fe={setDataAttribute(n,t,e){n.setAttribute(`data-bs-${tt(t)}`,e)},removeDataAttribute(n,t){n.removeAttribute(`data-bs-${tt(t)}`)},getDataAttributes(n){if(!n)return{};let t={},e=Object.keys(n.dataset).filter(r=>r.startsWith("bs")&&!r.startsWith("bsConfig"));for(let r of e){let s=r.replace(/^bs/,"");s=s.charAt(0).toLowerCase()+s.slice(1,s.length),t[s]=xt(n.dataset[r])}return t},getDataAttribute(n,t){return xt(n.getAttribute(`data-bs-${tt(t)}`))}},A=fe;var et=class{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,e){let r=b(e)?A.getDataAttribute(e,"config"):{};return{...this.constructor.Default,...typeof r=="object"?r:{},...b(e)?A.getDataAttributes(e):{},...typeof t=="object"?t:{}}}_typeCheckConfig(t,e=this.constructor.DefaultType){for(let[r,s]of Object.entries(e)){let o=t[r],i=b(o)?"element":_t(o);if(!new RegExp(s).test(i))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${i}" but expected type "${s}".`)}}},D=et;var he="5.3.3",nt=class extends D{constructor(t,e){super(),t=C(t),t&&(this._element=t,this._config=this._getConfig(e),I.set(this._element,this.constructor.DATA_KEY,this))}dispose(){I.remove(this._element,this.constructor.DATA_KEY),l.off(this._element,this.constructor.EVENT_KEY);for(let t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,e,r=!0){V(t,e,r)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return I.get(C(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,typeof e=="object"?e:null)}static get VERSION(){return he}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}},Dt=nt;var rt=n=>{let t=n.getAttribute("data-bs-target");if(!t||t==="#"){let e=n.getAttribute("href");if(!e||!e.includes("#")&&!e.startsWith("."))return null;e.includes("#")&&!e.startsWith("#")&&(e=`#${e.split("#")[1]}`),t=e&&e!=="#"?e.trim():null}return t?t.split(",").map(e=>z(e)).join(","):null},B={find(n,t=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(t,n))},findOne(n,t=document.documentElement){return Element.prototype.querySelector.call(t,n)},children(n,t){return[].concat(...n.children).filter(e=>e.matches(t))},parents(n,t){let e=[],r=n.parentNode.closest(t);for(;r;)e.push(r),r=r.parentNode.closest(t);return e},prev(n,t){let e=n.previousElementSibling;for(;e;){if(e.matches(t))return[e];e=e.previousElementSibling}return[]},next(n,t){let e=n.nextElementSibling;for(;e;){if(e.matches(t))return[e];e=e.nextElementSibling}return[]},focusableChildren(n){let t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(e=>`${e}:not([tabindex^="-"])`).join(",");return this.find(t,n).filter(e=>!P(e)&&k(e))},getSelectorFromElement(n){let t=rt(n);return t&&B.findOne(t)?t:null},getElementFromSelector(n){let t=rt(n);return t?B.findOne(t):null},getMultipleElementsFromSelector(n){let t=rt(n);return t?B.find(t):[]}},g=B;var Nt="backdrop",pe="fade",Mt="show",Ct=`mousedown.bs.${Nt}`,me={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},ge={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"},st=class extends D{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return me}static get DefaultType(){return ge}static get NAME(){return Nt}show(t){if(!this._config.isVisible){y(t);return}this._append();let e=this._getElement();this._config.isAnimated&&$(e),e.classList.add(Mt),this._emulateAnimation(()=>{y(t)})}hide(t){if(!this._config.isVisible){y(t);return}this._getElement().classList.remove(Mt),this._emulateAnimation(()=>{this.dispose(),y(t)})}dispose(){this._isAppended&&(l.off(this._element,Ct),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){let t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(pe),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=C(t.rootElement),t}_append(){if(this._isAppended)return;let t=this._getElement();this._config.rootElement.append(t),l.on(t,Ct,()=>{y(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){V(t,this._getElement(),this._config.isAnimated)}},Rt=st;var Ot=(n,t="hide")=>{let e=`click.dismiss${n.EVENT_KEY}`,r=n.NAME;l.on(document,e,`[data-bs-dismiss="${r}"]`,function(s){if(["A","AREA"].includes(this.tagName)&&s.preventDefault(),P(this))return;let o=g.getElementFromSelector(this)||this.closest(`.${r}`);n.getOrCreateInstance(o)[t]()})};var _e="focustrap",Ee="bs.focustrap",j=`.${Ee}`,we=`focusin${j}`,ye=`keydown.tab${j}`,be="Tab",Te="forward",Ht="backward",Ae={autofocus:!0,trapElement:null},Le={autofocus:"boolean",trapElement:"element"},it=class extends D{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Ae}static get DefaultType(){return Le}static get NAME(){return _e}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),l.off(document,j),l.on(document,we,t=>this._handleFocusin(t)),l.on(document,ye,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,l.off(document,j))}_handleFocusin(t){let{trapElement:e}=this._config;if(t.target===document||t.target===e||e.contains(t.target))return;let r=g.focusableChildren(e);r.length===0?e.focus():this._lastTabNavDirection===Ht?r[r.length-1].focus():r[0].focus()}_handleKeydown(t){t.key===be&&(this._lastTabNavDirection=t.shiftKey?Ht:Te)}},It=it;var kt=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Pt=".sticky-top",F="padding-right",$t="margin-right",ot=class{constructor(){this._element=document.body}getWidth(){let t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){let t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,F,e=>e+t),this._setElementAttributes(kt,F,e=>e+t),this._setElementAttributes(Pt,$t,e=>e-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,F),this._resetElementAttributes(kt,F),this._resetElementAttributes(Pt,$t)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,r){let s=this.getWidth(),o=i=>{if(i!==this._element&&window.innerWidth>i.clientWidth+s)return;this._saveInitialAttribute(i,e);let a=window.getComputedStyle(i).getPropertyValue(e);i.style.setProperty(e,`${r(Number.parseFloat(a))}px`)};this._applyManipulationCallback(t,o)}_saveInitialAttribute(t,e){let r=t.style.getPropertyValue(e);r&&A.setDataAttribute(t,e,r)}_resetElementAttributes(t,e){let r=s=>{let o=A.getDataAttribute(s,e);if(o===null){s.style.removeProperty(e);return}A.removeDataAttribute(s,e),s.style.setProperty(e,o)};this._applyManipulationCallback(t,r)}_applyManipulationCallback(t,e){if(b(t)){e(t);return}for(let r of g.find(t,this._element))e(r)}},Vt=ot;var ve="modal",Se="bs.modal",m=`.${Se}`,xe=".data-api",De="Escape",Me=`hide${m}`,Ce=`hidePrevented${m}`,Ft=`hidden${m}`,Kt=`show${m}`,Ne=`shown${m}`,Re=`resize${m}`,Oe=`click.dismiss${m}`,He=`mousedown.dismiss${m}`,Ie=`keydown.dismiss${m}`,ke=`click${m}${xe}`,Bt="modal-open",Pe="fade",jt="show",at="modal-static",$e=".modal.show",Ve=".modal-dialog",Be=".modal-body",je='[data-bs-toggle="modal"]',Fe={backdrop:!0,focus:!0,keyboard:!0},Ke={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"},L=class n extends Dt{constructor(t,e){super(t,e),this._dialog=g.findOne(Ve,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Vt,this._addEventListeners()}static get Default(){return Fe}static get DefaultType(){return Ke}static get NAME(){return ve}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||l.trigger(this._element,Kt,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Bt),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||l.trigger(this._element,Me).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(jt),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){l.off(window,m),l.off(this._dialog,m),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Rt({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new It({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;let e=g.findOne(Be,this._dialog);e&&(e.scrollTop=0),$(this._element),this._element.classList.add(jt);let r=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,l.trigger(this._element,Ne,{relatedTarget:t})};this._queueCallback(r,this._dialog,this._isAnimated())}_addEventListeners(){l.on(this._element,Ie,t=>{if(t.key===De){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),l.on(window,Re,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),l.on(this._element,He,t=>{l.one(this._element,Oe,e=>{if(!(this._element!==t.target||this._element!==e.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Bt),this._resetAdjustments(),this._scrollBar.reset(),l.trigger(this._element,Ft)})}_isAnimated(){return this._element.classList.contains(Pe)}_triggerBackdropTransition(){if(l.trigger(this._element,Ce).defaultPrevented)return;let e=this._element.scrollHeight>document.documentElement.clientHeight,r=this._element.style.overflowY;r==="hidden"||this._element.classList.contains(at)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(at),this._queueCallback(()=>{this._element.classList.remove(at),this._queueCallback(()=>{this._element.style.overflowY=r},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){let t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),r=e>0;if(r&&!t){let s=Q()?"paddingLeft":"paddingRight";this._element.style[s]=`${e}px`}if(!r&&t){let s=Q()?"paddingRight":"paddingLeft";this._element.style[s]=`${e}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,e){return this.each(function(){let r=n.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof r[t]>"u")throw new TypeError(`No method named "${t}"`);r[t](e)}})}};l.on(document,ke,je,function(n){let t=g.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),l.one(t,Kt,s=>{s.defaultPrevented||l.one(t,Ft,()=>{k(this)&&this.focus()})});let e=g.findOne($e);e&&L.getInstance(e).hide(),L.getOrCreateInstance(t).toggle(this)});Ot(L);Et(L);var Wt=L;function Bn(n){document.readyState==="interactive"||document.readyState==="complete"?n():document.addEventListener("DOMContentLoaded",n)}function N(n){return n.replace(/[&<"']/g,t=>({"&":"&amp;","<":"&lt;",'"':"&quot;","'":"&#39;"})[t])}function jn(n,t){n.disabled=!0,n.innerHTML='<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> '+N(t)}function Fn(n,t){n.disabled=!1,n.innerText=t}function Kn(n,t){n.disabled=!1,n.innerHTML=t}function Wn(n){n.scrollTop=0}function Yn(n){n.scrollTop=n.scrollHeight}function qn(...n){for(let t=0;t<n.length;t++)n[t].classList.add("d-none")}function zn(...n){for(let t=0;t<n.length;t++)n[t].classList.remove("d-none")}function Un(n,t=null){if(n.getElementsByClassName("spinner-border")[0])return;let e=document.createElement("span");t?e.className=t:e.className="spinner-border spinner-border-sm",n.prepend(e)}function Qn(n){let t=n.querySelector(".spinner-border");t&&t.remove()}function Gn(n){n.querySelector('[data-bs-dismiss="modal"]')?.click()}function Jn(n){Wt.getOrCreateInstance(n).show()}function Xn(){return Math.floor(new Date().getTime()/1e3)}function Zn(){return!!(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches)}function tr(){let n=navigator.language.match(/^[a-z]+/);return n?n[0]:"en"}function er(n,t=2,e,r){e=e||"en",r=r||{en:["bytes","KB","MB","GB","TB","PB","EB","ZB","YB"]};let s=r[e]?r[e]:r.en;if(n===0)return"0 "+s[0];let o=n<0?"-":"";n=Math.abs(n);let i=1024,a=t<0?0:t,c=Math.floor(Math.log(n)/Math.log(i));return o+parseFloat((n/Math.pow(i,c)).toFixed(a))+" "+s[c]}function nr(n){return navigator.clipboard.writeText(n)}function rr(n){var t=new Date(n*1e3);return`${t.toLocaleDateString("en-GB")} ${t.toLocaleTimeString("en-GB")}`}function sr(n){var t=new Date(n*1e3);return`${t.toLocaleDateString("en-GB")}`}var T=class{events={};on(t,e){typeof this.events[t]!="object"&&(this.events[t]=[]),this.events[t].push(e);let r=this,s=function(){r.removeListener(t,e)};return!/^(#has-listeners|#no-listeners)$/.test(t)&&this.events[t].length==1&&this.emit("#has-listeners",t),s}removeListener(t,e){var r;typeof this.events[t]=="object"&&(r=this.events[t].indexOf(e),r>-1&&(this.events[t].splice(r,1),!/^(#has-listeners|#no-listeners)$/.test(t)&&this.events[t].length==0&&this.emit("#no-listeners",t)))}emit(t){if(typeof this.events[t]=="object"){var e,r,s,o=[].slice.call(arguments,1);for(r=this.events[t].slice(),s=r.length,e=0;e<s;e++)try{r[e].apply(this,o)}catch(i){console.error(t,o),console.error(i)}}}once(t,e){return this.on(t,function r(){this.removeListener(t,r),e.apply(this,arguments)})}waitForEvent(t,e=0){return new Promise(r=>{let s,o=this.on(t,()=>{e>0&&clearTimeout(s),o(),r(!0)});e>0&&(s=setTimeout(()=>{o(),r(!1)},e))})}waitForAnyEvent(t,e=0){return new Promise(r=>{let s,o=[],i=()=>{e>0&&clearTimeout(s),o.forEach(a=>{a()}),r(!0)};t.forEach(a=>{o.push(this.on(a,i))}),e>0&&(s=setTimeout(()=>{i(),r(!1)},e))})}clear(){this.events={}}destroy(){this.clear()}clearEventListeners(t){(this.events[t]||[]).length>0&&(this.events[t]=[],this.emit("#no-listeners",t))}onHasEventListeners(t){return this.on("#has-listeners",t)}onNoEventListeners(t){return this.on("#no-listeners",t)}};var We="scope-ref";var Ye="ref";function qe(n,t){var e;return t.is_scope_element?e=t.is_scope_element(n,t):e=n.getAttribute(We),e===null?!1:e}function Yt(n){let t={ref_attr_name:Ye,window:globalThis.window,is_scope_element:void 0,include_root:!1},e=Object.assign({},t,n);if(!e.window)throw new Error("settings.window is not defined");return e}function K(n,t,e){var r={},s=Yt(e);function o(i){let a=i.getAttribute(s.ref_attr_name);a&&(t?t[a]&&(r[a]=i):r[a]=i)}return s.include_root===!0&&n instanceof s.window.HTMLElement&&(r.root=n),qt(n,o,s),t&&zt(r,t),r}function qt(n,t,e){var r=Yt(e);function s(a){var c=a,f=c.parentElement;return f&&f!=n&&qe(f,r)!==!1?2:1}let o=r.window.document.createTreeWalker(n,1,s);var i;for(r.include_root===!0&&n instanceof r.window.HTMLElement&&t(n);i=o.nextNode();)t(i)}function zt(n,t){for(let e in t){let r=n[e];if(!r)throw new Error(`Missing ref: ${e}`);let s=typeof t[e]=="function"?t[e].prototype:t[e];if(s.isPrototypeOf(r)===!1)throw new Error(`The ref "${e}" must be an instance of ${s.constructor.name} (actual: ${r.constructor.name})`)}}var d=class{layout;emit(t,...e){this.eventEmitter||(this.eventEmitter=new T),this.eventEmitter.emit(t,...e)}on(t,e){return this.eventEmitter||(this.eventEmitter=new T),this.eventEmitter.on(t,e)}setRoot(t){this.root_element=t}connect(t){if(t&&this.setRoot(t),!this.root_element)throw new Error("Root element is not set");if(this.refs=K(this.root_element,this.refsAnnotation),!this.refs)throw new Error("Failed to connect DOM");this.emit("refsConnected"),this.emit("connect")}setLayout(t){let e=this;this.layout=()=>t(e)}renderLayout(t){if(t&&this.setRoot(t),!this.root_element)throw new Error("Root element is not set");this.root_element.innerHTML="";let e=this.layout();typeof e=="string"?this.root_element.innerHTML=e:e instanceof Node&&this.root_element.appendChild(e),this.refs=K(this.root_element,this.refsAnnotation),this.emit("refsConnected"),this.emit("renderLayout"),this.emit("connect")}isConnected(){return!!this.root_element&&!!this.refs}};var v=class extends d{refs;refsAnnotation={section_with_content:HTMLElement.prototype,section_without_content:HTMLElement.prototype,section_error:HTMLElement.prototype,section_loading:HTMLElement.prototype,error_text:HTMLElement.prototype,loading_text:HTMLElement.prototype,no_content_text:HTMLElement.prototype};#t="loading";constructor(){super(),this.on("connect",()=>{this.setStatus(this.#t)})}setStatus(t,e){if(this.#t=t,!!this.isConnected())switch(this.#t){case"content":this.refs.section_with_content.classList.toggle("d-none",!1),this.refs.section_without_content.classList.toggle("d-none",!0),this.refs.section_error.classList.toggle("d-none",!0),this.refs.section_loading.classList.toggle("d-none",!0);break;case"no_content":typeof e=="string"&&(this.refs.no_content_text.innerText=e),this.refs.section_with_content.classList.toggle("d-none",!0),this.refs.section_without_content.classList.toggle("d-none",!1),this.refs.section_error.classList.toggle("d-none",!0),this.refs.section_loading.classList.toggle("d-none",!0);break;case"error":typeof e=="string"&&(this.refs.error_text.innerText=e),this.refs.section_with_content.classList.toggle("d-none",!0),this.refs.section_without_content.classList.toggle("d-none",!0),this.refs.section_error.classList.toggle("d-none",!1),this.refs.section_loading.classList.toggle("d-none",!0);break;case"loading":typeof e=="string"&&(this.refs.loading_text.innerText=e),this.refs.section_with_content.classList.toggle("d-none",!0),this.refs.section_without_content.classList.toggle("d-none",!0),this.refs.section_error.classList.toggle("d-none",!0),this.refs.section_loading.classList.toggle("d-none",!1);break}}};var W={code:-32700,message:"Parse error"};var lt=class{code=0;message="";data={};constructor(t){t instanceof Error?(this.message=t.message,this.data=t):typeof t=="string"?this.message=t:(this.code=t.code||0,this.message=t.message||"",this.data=t.data||{})}},h=class{error;id;constructor(t,e){this.error=new lt(t),this.id=e||null}},ct=class{result;id;constructor(t,e){this.result=t,this.id=e||null}},ut=class{data=[];total=0;page_size=0;current_page=0;total_pages=0;constructor(t){if(!Array.isArray(t.data))throw console.error(t),new Error("data must be an array");let e=typeof t.total=="number"?t.total:parseInt(t.total),r=typeof t.page_size=="number"?t.page_size:parseInt(t.page_size),s=typeof t.current_page=="number"?t.current_page:parseInt(t.current_page),o=typeof t.total_pages=="number"?t.total_pages:parseInt(t.total_pages);if(isNaN(e))throw console.error(t),new Error("total must be a number");if(isNaN(r))throw console.error(t),new Error("page_size must be a number");if(isNaN(s))throw console.error(t),new Error("current_page must be a number");if(isNaN(o))throw console.error(t),new Error("total_pages must be a number");this.data=t.data,this.total=t.total,this.page_size=t.page_size,this.current_page=t.current_page,this.total_pages=t.total_pages}},_=class{result;id;constructor(t,e){this.result=new ut(t),this.id=e||null}},dt=class{#t=new T;on(t,e){this.#t.on(t,e)}notify(t){t&&t.id&&typeof t.id=="string"&&(t.hasOwnProperty("error")||t.hasOwnProperty("result"))&&setTimeout(()=>this.#t.emit(t.id,t),0)}},ze=new dt;function R(n){return n&&(n.hasOwnProperty("error")||n.hasOwnProperty("result"))}function Ut(n,t=null){if(!R(n))return console.error(n),new h(W,t);if(n.error)return new h(n.error,n.id||t);if(n.result)return!1}function Ue(n,t=null){if(!R(n))return console.error(n),new h(W,t);let e=Ut(n);if(e)return e;try{return new _(n.result,n.id)}catch(r){return console.error(r),new h(r,n.id||t)}}function Qe(n){if(!R(n))return console.error(n),!1;if(n.error)return!1;if(n.result)return n.result.hasOwnProperty("total_pages")&&n.result.hasOwnProperty("current_page")&&n.result.hasOwnProperty("page_size")&&n.result.hasOwnProperty("total")&&n.result.hasOwnProperty("data")}function Ge(n,t){if(!R(n))return console.error(n),new h(W,t);let e=Ut(n);return e||new ct(n.result,n.id||t)}function Je(n){return n.error?"error":n.result?Qe(n)?"pagedData":"data":"error"}function M(n={},t={}){if(t.notify=t.hasOwnProperty("notify")?t.notify:!0,!R(n))return new h(W,t.id);let e=Je(n),r;return e==="error"?r=new h(n.error,n.id||t.id):e==="data"?r=Ge(n,n.id||t.id):e==="pagedData"&&(r=Ue(n,n.id||t.id)),t.notify&&ze.notify(r),r}var ft=class n{static createPaginationArray(t,e,r=2,s="..."){if(e<=1)return["1"];let o=[t];for(let u=1;u<=r;u++)o.unshift(t-u),o.push(t+u);let i=o.filter(u=>u>1&&u<e).map(u=>u.toString()),a=t>3+r,c=t===3+r,f=t<e-(2+r),p=t===e-(2+r);c&&i.unshift("2"),p&&i.push((e-1).toString()),a&&i.unshift(s),f&&i.push(s);let E=e.toString();return["1",...i,E]}static renderPaginationItems(t,e,r){let s=t.toString(),o=n.createPaginationArray(t,e);return o=o.map(function(i){let a=s==i?"active":"",c=r?r(i):"#";return i!="..."?`<li class="page-item ${a}" page-value="${i}"><a class="page-link" href="${c}">${i}</a></li>`:`<li class="page-item"><span class="page-link">${i}</span></li>`}),o.join(`
`)}static renderPagination(t,e,r){return`
  <ul class="pagination">
  ${n.renderPaginationItems(t,e,r)}
  </ul>`}};function ht(n){return ft.renderPagination(n.current_page,n.pages_count,n.page_url_rendrer)}var S=class extends d{root_element;eventsDeclaration=["page-changed"];page_url_rendrer;#t=0;pages_count=0;constructor(){super(),this.setLayout(ht)}on(t,e){return super.on(t,e)}setConfig(t){this.page_url_rendrer=t.page_url_rendrer}set current_page(t){this.#t=t,this.root_element&&this.render()}get current_page(){return this.#t}#e(t,e){if(!this.root_element)throw new Error("Pagination root_element element is not set");typeof e<"u"&&(this.pages_count=e),typeof t<"u"&&(this.#t=t),this.root_element.innerHTML=ht(this);let r=this.root_element.querySelectorAll(".page-item"),s=this;for(let o=0;o<r.length;o++)r[o].addEventListener("click",i=>{if(i.preventDefault(),!(i.target instanceof Element))return;let a=i.target;if(a.tagName!="LI"&&(a=a.parentElement,!(a instanceof Element)))return;let c=a.getAttribute("page-value");c&&(s.#t=parseInt(c),s.#e(),super.emit("page-changed",s.#t))})}render(t){let e=M(t);if(e&&e instanceof _){this.#e(e.result.current_page,e.result.total_pages);return}else this.#e(this.#t,this.pages_count)}};function Qt(){return`
<table class="table table-striped">
    <thead>
        <tr ref="header_row">

        </tr>
    </thead>
    <tbody ref="section_with_content" class="d-none">
    </tbody>
    <tbody ref="section_without_content" class="d-none">
        <tr>
            <td ref="no_content_text" class="col-12 text-center py-4" colspan="100"
                style="white-space: initial; word-wrap: break-word;">
                No items
            </td>
        </tr>
    </tbody>
    <tbody ref="section_error" class="d-none">
        <tr>
            <td ref="error_text" class="col-12 text-center py-4" colspan="100"
                style="white-space: initial; word-wrap: break-word;">

            </td>
        </tr>
    </tbody>
    <tbody ref="section_loading" class="">
        <tr>
            <td ref="loading_text" class="col-12 text-center py-4" colspan="100"
                style="white-space: initial; word-wrap: break-word;">
                Loading...
            </td>
        </tr>
    </tbody>

</table>
`}function Gt(n,t){let e=document.createElement("div");e.setAttribute("data-row-index",t.toString());let r=document.createElement("span");r.setAttribute("ref","index"),r.innerText=(t+1).toString(),e.appendChild(r);for(let s in n){let o=document.createElement("span");o.setAttribute("ref",s),o.innerText=n[s],e.appendChild(o)}return e}var O=class extends d{root_element=null;eventsDeclaration=["connect"];refs;refsAnnotation={section_with_content:HTMLDivElement.prototype,section_without_content:HTMLDivElement.prototype,section_error:HTMLDivElement.prototype,section_loading:HTMLDivElement.prototype,header_row:HTMLDivElement.prototype,error_text:HTMLElement.prototype,loading_text:HTMLElement.prototype,no_content_text:HTMLElement.prototype};list_row_header_string="";#t=Gt;#e="loading";constructor(){super(),this.widget=new v;let t=this;this.on("connect",()=>{t.root_element&&t.widget.connect(t.root_element),t.widget.setStatus(t.status),t.refs.header_row.innerHTML=t.list_row_header_string}),this.setLayout(Qt)}on(t,e){return super.on(t,e)}setConfig(t){let e=Object.assign({listItemRenderer:Gt,list_row_header_string:null},t);e.listItemRenderer&&(this.#t=e.listItemRenderer),e.list_row_header_string&&(this.list_row_header_string=e.list_row_header_string)}get status(){return this.#e}setListItemHeaderString(t){this.list_row_header_string=t}setStatus(t,e){this.#e=t,this.widget.setStatus(t,e)}render(t){if(!this.refs)return;let e=M(t);if(this.refs.section_with_content.innerHTML="",e instanceof h){this.setStatus("error",e.error.message);return}if(!(e instanceof _)){this.setStatus("error","Invalid response");return}let r=e.result.data;if(r.length==0){this.setStatus("no_content");return}this.#n(r),this.setStatus("content")}#n(t){if(this.refs){this.refs.section_with_content.innerHTML="";for(let e=0;e<t.length;e++){let r=this.#t(t[e],e);this.refs.section_with_content.appendChild(r)}}}};function Jt(){return`
<table class="table table-striped">
    <thead>
        <tr ref="header_row">

        </tr>
    </thead>
    <tbody ref="section_with_content" class="d-none">
    </tbody>
    <tbody ref="section_without_content" class="d-none">
        <tr>
            <td ref="no_content_text" class="col-12 text-center py-4" colspan="100"
                style="white-space: initial; word-wrap: break-word;">
                No items
            </td>
        </tr>
    </tbody>
    <tbody ref="section_error" class="d-none">
        <tr>
            <td ref="error_text" class="col-12 text-center py-4" colspan="100"
                style="white-space: initial; word-wrap: break-word;">

            </td>
        </tr>
    </tbody>
    <tbody ref="section_loading" class="">
        <tr>
            <td ref="loading_text" class="col-12 text-center py-4" colspan="100"
                style="white-space: initial; word-wrap: break-word;">
                Loading...
            </td>
        </tr>
    </tbody>

</table>
`}function Xt(n,t){let e=document.createElement("tr");e.setAttribute("data-row-index",t.toString());let r=document.createElement("td");r.setAttribute("ref","index"),r.innerText=(t+1).toString(),e.appendChild(r);for(let s in n){let o=document.createElement("td");o.setAttribute("ref",s),o.innerText=n[s],e.appendChild(o)}return e}var H=class extends d{root_element=null;eventsDeclaration=["connect","refsConnected"];refs;refsAnnotation={section_with_content:HTMLTableSectionElement.prototype,section_without_content:HTMLTableSectionElement.prototype,section_error:HTMLTableSectionElement.prototype,section_loading:HTMLTableSectionElement.prototype,header_row:HTMLTableRowElement.prototype,error_text:HTMLElement.prototype,loading_text:HTMLElement.prototype,no_content_text:HTMLElement.prototype};#t="";#e=Xt;#n="loading";constructor(){super(),this.widget=new v;let t=this;this.on("refsConnected",()=>{t.widget.connect(t.root_element),t.widget.setStatus(t.status),t.refs.header_row.innerHTML=t.#t}),this.setLayout(Jt)}on(t,e){return super.on(t,e)}setConfig(t){let e=Object.assign({tableRowRenderer:Xt,table_row_header_string:null},t);e.tableRowRenderer&&(this.#e=e.tableRowRenderer),e.table_row_header_string&&(this.#t=e.table_row_header_string)}get status(){return this.#n}setStatus(t,e){this.#n=t,this.widget.setStatus(t,e)}render(t){if(!this.refs)return;let e=M(t);if(this.refs.section_with_content.innerHTML="",e instanceof h){this.setStatus("error",e.error.message);return}if(!(e instanceof _)){this.setStatus("error","Invalid response");return}let r=e.result.data;if(r.length==0){this.setStatus("no_content");return}this.#r(r),this.setStatus("content")}#r(t){if(this.refs){this.refs.section_with_content.innerHTML="";for(let e=0;e<t.length;e++){let r=this.#e(t[e],e);this.refs.section_with_content.appendChild(r)}}}};function Zt(n){return`
<div class="d-flex flex-column" style="min-height: 80vh">
    <div class="flex-grow-1 mt-3">
        <h1 class="display-6">
            <span ref="title">${N(n.title)}</span>
            <button class="btn btn-outline-secondary btn-sm ms-2" ref="add_data_button">
                Add
            </button>

            <button class="btn btn-outline-secondary btn-sm ms-2" ref="update_data_button">
                Update
            </button>
        </h1>
    
        <div ref="listItems" scope-ref="listItems">
        </div>

    </div>
</div>
<div aria-label="Page navigation" class="mt-5 d-flex justify-content-center" ref="pagination_section" scope-ref="pagination">
</div>
`}var pt=class extends d{itemList;pagination;root_element;refsAnnotation={title:HTMLSpanElement.prototype,add_data_button:HTMLButtonElement.prototype,update_data_button:HTMLButtonElement.prototype,itemList:HTMLElement.prototype,pagination_section:HTMLElement.prototype};refs;eventsDeclaration=["connect","refsConnected","renderLayout"];#t="";constructor(){super(),this.itemList=new O,this.pagination=new S,this.setLayout(Zt),this.on("renderLayout",()=>{this.itemList.renderLayout(this.refs.itemList),this.pagination.renderLayout(this.refs.pagination_section)})}on(t,e){return super.on(t,e)}get status(){return this.itemList.status}setStatus(t,e){this.isConnected()&&this.itemList.setStatus(t,e)}set title(t){this.#t=t,this.isConnected()&&(this.refs.title.innerText=this.#t)}get title(){return this.#t}render(t){this.itemList.render(t),this.pagination.render(t)}};function te(n){return`
<div class="d-flex flex-column" style="min-height: 75vh">
    <div class="flex-grow-1 mt-3">
        <h1 class="display-6 mb-3">
            <span ref="title">${N(n.title)}</span>
            <button class="btn btn-outline-secondary btn-sm ms-2" ref="add_data_button">
                Add
            </button>

            <button class="btn btn-outline-secondary btn-sm ms-2" ref="update_data_button">
                Update
            </button>
        </h1>
    
        <table class="table table-striped" ref="table" scope-ref="table">
        </table>

    </div>
</div>
<div aria-label="Page navigation" class="mt-5 d-flex justify-content-center" ref="pagination_section" scope-ref="pagination">
</div>
`}var mt=class extends d{tableView;pagination;root_element;refsAnnotation={title:HTMLSpanElement.prototype,add_data_button:HTMLButtonElement.prototype,update_data_button:HTMLButtonElement.prototype,table:HTMLTableElement.prototype,pagination_section:HTMLElement.prototype};refs;eventsDeclaration=["connect","refsConnected","renderLayout"];#t="";constructor(){super(),this.tableView=new H,this.pagination=new S,this.setLayout(te),this.on("refsConnected",()=>{this.refs.title.innerText=this.#t}),this.on("renderLayout",()=>{this.tableView.renderLayout(this.refs.table),this.pagination.renderLayout(this.refs.pagination_section)})}on(t,e){return super.on(t,e)}get status(){return this.tableView.status}setStatus(t,e){this.isConnected()&&this.tableView.setStatus(t,e)}set title(t){this.#t=t,this.isConnected()&&(this.refs.title.innerText=this.#t)}get title(){return this.#t}render(t){this.tableView.render(t),this.pagination.render(t)}};export{d as Component,Bn as DOMReady,O as ItemList,pt as PaginatedItemList,mt as PaginatedTable,S as Pagination,H as TableView,v as Widget,nr as copyToClipboard,N as escapeHtml,er as formatBytes,sr as formatDate,rr as formatDateTime,tr as getDefaultLanguage,qn as hideElements,Gn as hideModal,Zn as isDarkMode,Qn as removeSpinnerFromButton,Yn as scrollToBottom,Wn as scrollToTop,zn as showElements,Jn as showModal,Un as showSpinnerInButton,Fn as ui_button_status_waiting_off,Kn as ui_button_status_waiting_off_html,jn as ui_button_status_waiting_on,Xn as unixtime};
