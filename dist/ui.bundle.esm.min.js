var E=new Map,O={set(n,t,e){E.has(n)||E.set(n,new Map);let r=E.get(n);if(!r.has(t)&&r.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`);return}r.set(t,e)},get(n,t){return E.has(n)&&E.get(n).get(t)||null},remove(n,t){if(!E.has(n))return;let e=E.get(n);e.delete(t),e.size===0&&E.delete(n)}};var U="transitionend",q=n=>(n&&window.CSS&&window.CSS.escape&&(n=n.replace(/#([^\s"#']+)/g,(t,e)=>`#${CSS.escape(e)}`)),n),bt=n=>n==null?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase();var ie=n=>{if(!n)return 0;let{transitionDuration:t,transitionDelay:e}=window.getComputedStyle(n),r=Number.parseFloat(t),i=Number.parseFloat(e);return!r&&!i?0:(t=t.split(",")[0],e=e.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(e))*1e3)},se=n=>{n.dispatchEvent(new Event(U))},b=n=>!n||typeof n!="object"?!1:(typeof n.jquery<"u"&&(n=n[0]),typeof n.nodeType<"u"),x=n=>b(n)?n.jquery?n[0]:n:typeof n=="string"&&n.length>0?document.querySelector(q(n)):null,$=n=>{if(!b(n)||n.getClientRects().length===0)return!1;let t=getComputedStyle(n).getPropertyValue("visibility")==="visible",e=n.closest("details:not([open])");if(!e)return t;if(e!==n){let r=n.closest("summary");if(r&&r.parentNode!==e||r===null)return!1}return t},k=n=>!n||n.nodeType!==Node.ELEMENT_NODE||n.classList.contains("disabled")?!0:typeof n.disabled<"u"?n.disabled:n.hasAttribute("disabled")&&n.getAttribute("disabled")!=="false";var I=n=>{n.offsetHeight},z=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,W=[],oe=n=>{document.readyState==="loading"?(W.length||document.addEventListener("DOMContentLoaded",()=>{for(let t of W)t()}),W.push(n)):n()},Q=()=>document.documentElement.dir==="rtl",yt=n=>{oe(()=>{let t=z();if(t){let e=n.NAME,r=t.fn[e];t.fn[e]=n.jQueryInterface,t.fn[e].Constructor=n,t.fn[e].noConflict=()=>(t.fn[e]=r,n.jQueryInterface)}})},w=(n,t=[],e=n)=>typeof n=="function"?n(...t):e,P=(n,t,e=!0)=>{if(!e){w(n);return}let i=ie(t)+5,s=!1,o=({target:a})=>{a===t&&(s=!0,t.removeEventListener(U,o),w(n))};t.addEventListener(U,o),setTimeout(()=>{s||se(t)},i)};var ae=/[^.]*(?=\..*)\.|.*/,le=/\..*/,ce=/::\d+$/,G={},At=1,vt={mouseenter:"mouseover",mouseleave:"mouseout"},ue=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Ct(n,t){return t&&`${t}::${At++}`||n.uidEvent||At++}function St(n){let t=Ct(n);return n.uidEvent=t,G[t]=G[t]||{},G[t]}function fe(n,t){return function e(r){return Z(r,{delegateTarget:n}),e.oneOff&&X.off(n,r.type,t),t.apply(n,[r])}}function he(n,t,e){return function r(i){let s=n.querySelectorAll(t);for(let{target:o}=i;o&&o!==this;o=o.parentNode)for(let a of s)if(a===o)return Z(i,{delegateTarget:o}),r.oneOff&&X.off(n,i.type,t,e),e.apply(o,[i])}}function xt(n,t,e=null){return Object.values(n).find(r=>r.callable===t&&r.delegationSelector===e)}function Lt(n,t,e){let r=typeof t=="string",i=r?e:t||e,s=Dt(n);return ue.has(s)||(s=n),[r,i,s]}function Tt(n,t,e,r,i){if(typeof t!="string"||!n)return;let[s,o,a]=Lt(t,e,r);t in vt&&(o=(re=>function(C){if(!C.relatedTarget||C.relatedTarget!==C.delegateTarget&&!C.delegateTarget.contains(C.relatedTarget))return re.call(this,C)})(o));let f=St(n),l=f[a]||(f[a]={}),h=xt(l,o,s?e:null);if(h){h.oneOff=h.oneOff&&i;return}let u=Ct(o,t.replace(ae,"")),g=s?he(n,e,o):fe(n,o);g.delegationSelector=s?e:null,g.callable=o,g.oneOff=i,g.uidEvent=u,l[u]=g,n.addEventListener(a,g,s)}function J(n,t,e,r,i){let s=xt(t[e],r,i);s&&(n.removeEventListener(e,s,!!i),delete t[e][s.uidEvent])}function de(n,t,e,r){let i=t[e]||{};for(let[s,o]of Object.entries(i))s.includes(r)&&J(n,t,e,o.callable,o.delegationSelector)}function Dt(n){return n=n.replace(le,""),vt[n]||n}var X={on(n,t,e,r){Tt(n,t,e,r,!1)},one(n,t,e,r){Tt(n,t,e,r,!0)},off(n,t,e,r){if(typeof t!="string"||!n)return;let[i,s,o]=Lt(t,e,r),a=o!==t,f=St(n),l=f[o]||{},h=t.startsWith(".");if(typeof s<"u"){if(!Object.keys(l).length)return;J(n,f,o,s,i?e:null);return}if(h)for(let u of Object.keys(f))de(n,f,u,t.slice(1));for(let[u,g]of Object.entries(l)){let wt=u.replace(ce,"");(!a||t.includes(wt))&&J(n,f,o,g.callable,g.delegationSelector)}},trigger(n,t,e){if(typeof t!="string"||!n)return null;let r=z(),i=Dt(t),s=t!==i,o=null,a=!0,f=!0,l=!1;s&&r&&(o=r.Event(t,e),r(n).trigger(o),a=!o.isPropagationStopped(),f=!o.isImmediatePropagationStopped(),l=o.isDefaultPrevented());let h=Z(new Event(t,{bubbles:a,cancelable:!0}),e);return l&&h.preventDefault(),f&&n.dispatchEvent(h),h.defaultPrevented&&o&&o.preventDefault(),h}};function Z(n,t={}){for(let[e,r]of Object.entries(t))try{n[e]=r}catch{Object.defineProperty(n,e,{configurable:!0,get(){return r}})}return n}var c=X;function Mt(n){if(n==="true")return!0;if(n==="false")return!1;if(n===Number(n).toString())return Number(n);if(n===""||n==="null")return null;if(typeof n!="string")return n;try{return JSON.parse(decodeURIComponent(n))}catch{return n}}function tt(n){return n.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}var pe={setDataAttribute(n,t,e){n.setAttribute(`data-bs-${tt(t)}`,e)},removeDataAttribute(n,t){n.removeAttribute(`data-bs-${tt(t)}`)},getDataAttributes(n){if(!n)return{};let t={},e=Object.keys(n.dataset).filter(r=>r.startsWith("bs")&&!r.startsWith("bsConfig"));for(let r of e){let i=r.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),t[i]=Mt(n.dataset[r])}return t},getDataAttribute(n,t){return Mt(n.getAttribute(`data-bs-${tt(t)}`))}},y=pe;var et=class{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,e){let r=b(e)?y.getDataAttribute(e,"config"):{};return{...this.constructor.Default,...typeof r=="object"?r:{},...b(e)?y.getDataAttributes(e):{},...typeof t=="object"?t:{}}}_typeCheckConfig(t,e=this.constructor.DefaultType){for(let[r,i]of Object.entries(e)){let s=t[r],o=b(s)?"element":bt(s);if(!new RegExp(i).test(o))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${o}" but expected type "${i}".`)}}},S=et;var me="5.3.3",nt=class extends S{constructor(t,e){super(),t=x(t),t&&(this._element=t,this._config=this._getConfig(e),O.set(this._element,this.constructor.DATA_KEY,this))}dispose(){O.remove(this._element,this.constructor.DATA_KEY),c.off(this._element,this.constructor.EVENT_KEY);for(let t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,e,r=!0){P(t,e,r)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return O.get(x(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,typeof e=="object"?e:null)}static get VERSION(){return me}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}},Nt=nt;var rt=n=>{let t=n.getAttribute("data-bs-target");if(!t||t==="#"){let e=n.getAttribute("href");if(!e||!e.includes("#")&&!e.startsWith("."))return null;e.includes("#")&&!e.startsWith("#")&&(e=`#${e.split("#")[1]}`),t=e&&e!=="#"?e.trim():null}return t?t.split(",").map(e=>q(e)).join(","):null},H={find(n,t=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(t,n))},findOne(n,t=document.documentElement){return Element.prototype.querySelector.call(t,n)},children(n,t){return[].concat(...n.children).filter(e=>e.matches(t))},parents(n,t){let e=[],r=n.parentNode.closest(t);for(;r;)e.push(r),r=r.parentNode.closest(t);return e},prev(n,t){let e=n.previousElementSibling;for(;e;){if(e.matches(t))return[e];e=e.previousElementSibling}return[]},next(n,t){let e=n.nextElementSibling;for(;e;){if(e.matches(t))return[e];e=e.nextElementSibling}return[]},focusableChildren(n){let t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(e=>`${e}:not([tabindex^="-"])`).join(",");return this.find(t,n).filter(e=>!k(e)&&$(e))},getSelectorFromElement(n){let t=rt(n);return t&&H.findOne(t)?t:null},getElementFromSelector(n){let t=rt(n);return t?H.findOne(t):null},getMultipleElementsFromSelector(n){let t=rt(n);return t?H.find(t):[]}},p=H;var $t="backdrop",ge="fade",Rt="show",Ot=`mousedown.bs.${$t}`,_e={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Ee={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"},it=class extends S{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return _e}static get DefaultType(){return Ee}static get NAME(){return $t}show(t){if(!this._config.isVisible){w(t);return}this._append();let e=this._getElement();this._config.isAnimated&&I(e),e.classList.add(Rt),this._emulateAnimation(()=>{w(t)})}hide(t){if(!this._config.isVisible){w(t);return}this._getElement().classList.remove(Rt),this._emulateAnimation(()=>{this.dispose(),w(t)})}dispose(){this._isAppended&&(c.off(this._element,Ot),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){let t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(ge),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=x(t.rootElement),t}_append(){if(this._isAppended)return;let t=this._getElement();this._config.rootElement.append(t),c.on(t,Ot,()=>{w(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){P(t,this._getElement(),this._config.isAnimated)}},kt=it;var It=(n,t="hide")=>{let e=`click.dismiss${n.EVENT_KEY}`,r=n.NAME;c.on(document,e,`[data-bs-dismiss="${r}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),k(this))return;let s=p.getElementFromSelector(this)||this.closest(`.${r}`);n.getOrCreateInstance(s)[t]()})};var we="focustrap",be="bs.focustrap",B=`.${be}`,ye=`focusin${B}`,Ae=`keydown.tab${B}`,Te="Tab",ve="forward",Pt="backward",Ce={autofocus:!0,trapElement:null},Se={autofocus:"boolean",trapElement:"element"},st=class extends S{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Ce}static get DefaultType(){return Se}static get NAME(){return we}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),c.off(document,B),c.on(document,ye,t=>this._handleFocusin(t)),c.on(document,Ae,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,c.off(document,B))}_handleFocusin(t){let{trapElement:e}=this._config;if(t.target===document||t.target===e||e.contains(t.target))return;let r=p.focusableChildren(e);r.length===0?e.focus():this._lastTabNavDirection===Pt?r[r.length-1].focus():r[0].focus()}_handleKeydown(t){t.key===Te&&(this._lastTabNavDirection=t.shiftKey?Pt:ve)}},Ht=st;var Bt=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Vt=".sticky-top",V="padding-right",Ft="margin-right",ot=class{constructor(){this._element=document.body}getWidth(){let t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){let t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,V,e=>e+t),this._setElementAttributes(Bt,V,e=>e+t),this._setElementAttributes(Vt,Ft,e=>e-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,V),this._resetElementAttributes(Bt,V),this._resetElementAttributes(Vt,Ft)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,r){let i=this.getWidth(),s=o=>{if(o!==this._element&&window.innerWidth>o.clientWidth+i)return;this._saveInitialAttribute(o,e);let a=window.getComputedStyle(o).getPropertyValue(e);o.style.setProperty(e,`${r(Number.parseFloat(a))}px`)};this._applyManipulationCallback(t,s)}_saveInitialAttribute(t,e){let r=t.style.getPropertyValue(e);r&&y.setDataAttribute(t,e,r)}_resetElementAttributes(t,e){let r=i=>{let s=y.getDataAttribute(i,e);if(s===null){i.style.removeProperty(e);return}y.removeDataAttribute(i,e),i.style.setProperty(e,s)};this._applyManipulationCallback(t,r)}_applyManipulationCallback(t,e){if(b(t)){e(t);return}for(let r of p.find(t,this._element))e(r)}},jt=ot;var xe="modal",Le="bs.modal",d=`.${Le}`,De=".data-api",Me="Escape",Ne=`hide${d}`,Re=`hidePrevented${d}`,Wt=`hidden${d}`,Ut=`show${d}`,Oe=`shown${d}`,$e=`resize${d}`,ke=`click.dismiss${d}`,Ie=`mousedown.dismiss${d}`,Pe=`keydown.dismiss${d}`,He=`click${d}${De}`,Kt="modal-open",Be="fade",Yt="show",at="modal-static",Ve=".modal.show",Fe=".modal-dialog",je=".modal-body",Ke='[data-bs-toggle="modal"]',Ye={backdrop:!0,focus:!0,keyboard:!0},We={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"},A=class n extends Nt{constructor(t,e){super(t,e),this._dialog=p.findOne(Fe,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new jt,this._addEventListeners()}static get Default(){return Ye}static get DefaultType(){return We}static get NAME(){return xe}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||c.trigger(this._element,Ut,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Kt),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||c.trigger(this._element,Ne).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Yt),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){c.off(window,d),c.off(this._dialog,d),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new kt({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Ht({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;let e=p.findOne(je,this._dialog);e&&(e.scrollTop=0),I(this._element),this._element.classList.add(Yt);let r=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,c.trigger(this._element,Oe,{relatedTarget:t})};this._queueCallback(r,this._dialog,this._isAnimated())}_addEventListeners(){c.on(this._element,Pe,t=>{if(t.key===Me){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),c.on(window,$e,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),c.on(this._element,Ie,t=>{c.one(this._element,ke,e=>{if(!(this._element!==t.target||this._element!==e.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Kt),this._resetAdjustments(),this._scrollBar.reset(),c.trigger(this._element,Wt)})}_isAnimated(){return this._element.classList.contains(Be)}_triggerBackdropTransition(){if(c.trigger(this._element,Re).defaultPrevented)return;let e=this._element.scrollHeight>document.documentElement.clientHeight,r=this._element.style.overflowY;r==="hidden"||this._element.classList.contains(at)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(at),this._queueCallback(()=>{this._element.classList.remove(at),this._queueCallback(()=>{this._element.style.overflowY=r},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){let t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),r=e>0;if(r&&!t){let i=Q()?"paddingLeft":"paddingRight";this._element.style[i]=`${e}px`}if(!r&&t){let i=Q()?"paddingRight":"paddingLeft";this._element.style[i]=`${e}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,e){return this.each(function(){let r=n.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof r[t]>"u")throw new TypeError(`No method named "${t}"`);r[t](e)}})}};c.on(document,He,Ke,function(n){let t=p.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),c.one(t,Ut,i=>{i.defaultPrevented||c.one(t,Wt,()=>{$(this)&&this.focus()})});let e=p.findOne(Ve);e&&A.getInstance(e).hide(),A.getOrCreateInstance(t).toggle(this)});It(A);yt(A);var qt=A;function Kn(n){document.readyState==="interactive"||document.readyState==="complete"?n():document.addEventListener("DOMContentLoaded",n)}function lt(n){return n.replace(/[&<"']/g,t=>({"&":"&amp;","<":"&lt;",'"':"&quot;","'":"&#39;"})[t])}function Yn(n,t){n.disabled=!0,n.innerHTML='<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> '+lt(t)}function Wn(n,t){n.disabled=!1,n.innerText=t}function Un(n,t){n.disabled=!1,n.innerHTML=t}function qn(n){n.scrollTop=0}function zn(n){n.scrollTop=n.scrollHeight}function L(...n){for(let t=0;t<n.length;t++)n[t].classList.add("d-none")}function D(...n){for(let t=0;t<n.length;t++)n[t].classList.remove("d-none")}function Qn(n,t=null){if(n.getElementsByClassName("spinner-border")[0])return;let e=document.createElement("span");t?e.className=t:e.className="spinner-border spinner-border-sm",n.prepend(e)}function Gn(n){let t=n.querySelector(".spinner-border");t&&t.remove()}function Jn(n){n.querySelector('[data-bs-dismiss="modal"]')?.click()}function Xn(n){qt.getOrCreateInstance(n).show()}function Zn(){return Math.floor(new Date().getTime()/1e3)}function tr(){return!!(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches)}function er(){let n=navigator.language.match(/^[a-z]+/);return n?n[0]:"en"}function nr(n,t=2,e,r){e=e||"en",r=r||{en:["bytes","KB","MB","GB","TB","PB","EB","ZB","YB"]};let i=r[e]?r[e]:r.en;if(n===0)return"0 "+i[0];let s=n<0?"-":"";n=Math.abs(n);let o=1024,a=t<0?0:t,f=Math.floor(Math.log(n)/Math.log(o));return s+parseFloat((n/Math.pow(o,f)).toFixed(a))+" "+i[f]}function rr(n){return navigator.clipboard.writeText(n)}function ir(n){var t=new Date(n*1e3);return`${t.toLocaleDateString("en-GB")} ${t.toLocaleTimeString("en-GB")}`}function sr(n){var t=new Date(n*1e3);return`${t.toLocaleDateString("en-GB")}`}var F=class{items=new Map;#t;addItem(t,e,r){if(this.items.has(t))throw new Error("Item already exists");this.items.set(t,{isActive:!1,on:e,off:r})}removeItem(t){this.#t===t&&(this.#t=""),this.items.delete(t)}setActive(t){if(!this.items.has(t))throw new Error("Item not found");if(this.#t!==t)for(let[e,r]of this.items)e===t?(this.#t=e,r.isActive||(r.isActive=!0,r.on(e))):(r.isActive&&r.off(e),r.isActive=!1)}runCallbacks(){for(let[t,e]of this.items)e.isActive?e.on(t):e.off(t)}};var Ue="scope-ref",zt="$",qe="ref";function Qt(n,t){var e;return t.is_scope_element?e=t.is_scope_element(n,t):e=n.getAttribute(Ue),e===null?!1:e}function Gt(n){let t={ref_attr_name:qe,window:globalThis.window,is_scope_element:void 0,include_root:!1},e=Object.assign({},t,n);if(!e.window)throw new Error("settings.window is not defined");return e}function ct(n,t,e={}){var r={},i={},s=[],o=Gt(e);function a(l){var h=l.getAttribute(o.ref_attr_name);if(h!=null&&h!=""&&(r[h]?globalThis.window?console.warn(`Element has reference #${h} which is already used
`,`
element: `,l,`
reference #${h}: `,r[h],`
scope root: `,n):console.warn(`Element has reference #${h} which is already used
`):r[h]=l),l!=n){var u=Qt(l,o);if(typeof u!="string")return;u!=""?i[u]?(globalThis.window?console.warn(`scope #${u} is already used`,l):console.warn(`scope #${u} is already used`),s.push(l)):i[u]=l:s.push(l)}t&&t(l)}o.include_root===!0&&n instanceof o.window.HTMLElement&&(r.root=n,t&&t(n)),Jt(n,a,o);var f=0;return s.forEach(l=>{for(;i[zt+f.toString()];)f++;i[zt+f.toString()]=l}),{refs:r,scope_refs:i}}function Jt(n,t,e){var r=Gt(e);function i(a){var f=a,l=f.parentElement;return l&&l!=n&&Qt(l,r)!==!1?2:1}let s=r.window.document.createTreeWalker(n,1,i);var o;for(r.include_root===!0&&n instanceof r.window.HTMLElement&&t(n);o=s.nextNode();)t(o)}function ut(n,t){for(let e in t){let r=n[e];if(!r)throw new Error(`Missing ref: ${e}`);let i=typeof t[e]=="function"?t[e].prototype:t[e];if(i.isPrototypeOf(r)===!1)throw new Error(`The ref "${e}" must be an instance of ${i.constructor.name} (actual: ${r.constructor.name})`)}}function j(n,t){if(typeof n!="string")throw new Error("html must be a string");let e=t?.window||globalThis.window;if(!e)throw new Error("window is not defined");let i=e.document.createElement("template");return i.innerHTML=n,i.content}var T=class{events={};on(t,e){typeof this.events[t]!="object"&&(this.events[t]=[]),this.events[t].push(e);let r=this,i=function(){r.removeListener(t,e)};return!/^(#has-listeners|#no-listeners)$/.test(t)&&this.events[t].length==1&&this.emit("#has-listeners",t),i}removeListener(t,e){var r;typeof this.events[t]=="object"&&(r=this.events[t].indexOf(e),r>-1&&(this.events[t].splice(r,1),!/^(#has-listeners|#no-listeners)$/.test(t)&&this.events[t].length==0&&this.emit("#no-listeners",t)))}emit(t){if(typeof this.events[t]=="object"){var e,r,i,s=[].slice.call(arguments,1);for(r=this.events[t].slice(),i=r.length,e=0;e<i;e++)try{r[e].apply(this,s)}catch(o){console.error(t,s),console.error(o)}}}once(t,e){return this.on(t,function r(){this.removeListener(t,r),e.apply(this,arguments)})}waitForEvent(t,e=0){return new Promise(r=>{let i,s=this.on(t,()=>{e>0&&clearTimeout(i),s(),r(!0)});e>0&&(i=setTimeout(()=>{s(),r(!1)},e))})}waitForAnyEvent(t,e=0){return new Promise(r=>{let i,s=[],o=()=>{e>0&&clearTimeout(i),s.forEach(a=>{a()}),r(!0)};t.forEach(a=>{s.push(this.on(a,o))}),e>0&&(i=setTimeout(()=>{o(),r(!1)},e))})}clear(){this.events={}}destroy(){this.clear()}clearEventListeners(t){(this.events[t]||[]).length>0&&(this.events[t]=[],this.emit("#no-listeners",t))}onHasEventListeners(t){return this.on("#has-listeners",t)}onNoEventListeners(t){return this.on("#no-listeners",t)}};var ft=class{#t=new Set;#e=new Map;#n=new Set;#r={};defineSlots(...t){let e=[],r=Array.from(this.#t);for(let i=0;i<r.length;i++)t.indexOf(r[i])==-1&&e.push(r[i]);for(let i=0;i<e.length;i++)this.removeSlot(e[i]);for(let i=0;i<t.length;i++)this.#e.has(t[i])||this.#e.set(t[i],new Set);this.#t=new Set(t)}removeSlot(t){let e=this.#e.get(t);if(e){let r=Array.from(e);for(let i=0;i<r.length;i++)r[i].unmount(),this.#n.delete(r[i]);this.#e.delete(t)}this.#t.delete(t),delete this.#r[t]}get slotNames(){return Array.from(this.#t)}slotExists(t){return this.#t.has(t)}setSlotRefs(t){this.#r={};let e=this;this.#t.forEach(r=>{if(!t[r])throw new Error(`Slot "${r}" not found`);e.#r[r]=t[r]})}getSlotRef(t){return this.#r[t]||null}clearSlotRefs(){this.#r={}}addChildComponent(t,...e){if(this.slotExists(t)===!1)throw new Error(`Slot "${t}" does not exist`);let r=this.#e.get(t);r||(r=new Set,this.#e.set(t,r));for(let i=0;i<e.length;i++)this.#n.add(e[i]),r.add(e[i])}removeChildComponent(t){this.#n.delete(t);for(let[e,r]of this.#e)if(r.has(t)){r.delete(t);break}}get children(){return this.#n}mountChildren(t){let e=t?[t]:Array.from(this.#t);for(let r=0;r<e.length;r++){let i=Array.from(this.#e.get(e[r])||[]);for(let s=0;s<i.length;s++)i[s].mount(this.#r[e[r]],"append")}}unmountChildren(t){let e=t?[t]:Array.from(this.#t);for(let r=0;r<e.length;r++){let i=Array.from(this.#e.get(e[r])||[]);for(let s=0;s<i.length;s++)i[s].unmount()}}},_=class{$internals={eventEmitter:new T,disconnectController:new AbortController,root:null};#t=null;#e=!1;#n;slots=new ft;refsAnnotation;setLayout(t,e){let r;if(typeof t=="function"){let s=t(this);s instanceof Node?r=s:r=j(s)}else r=j(t);let i=0;for(let s=0;s<r.childNodes.length;s++)r.childNodes[s].nodeType===1&&i++;if(i!==1)throw new Error("Layout must have exactly one root element");this.#t=r,e&&(this.refsAnnotation=e)}getRefs(){return this.#n}on(t,e){return this.$internals.eventEmitter.on(t,e)}emit(t,...e){return this.$internals.eventEmitter.emit(t,...e)}onBeforeConnect(t){return this.$internals.eventEmitter.on("beforeConnect",t)}onConnect(t){return this.$internals.eventEmitter.on("connect",t)}onMount(t){return this.$internals.eventEmitter.on("mount",t)}onBeforeUnmount(t){return this.$internals.eventEmitter.on("beforeUnmount",t)}onUnmount(t){return this.$internals.eventEmitter.on("unmount",t)}get isConnected(){return this.#e}connect(t){if(this.#e===!0)throw new Error("Component is already connected");this.$internals.root=t;let{refs:e,scope_refs:r}=ct(t);this.refsAnnotation&&ut(e,this.refsAnnotation),this.#n=e,this.slots.setSlotRefs(r),this.$internals.disconnectController=new AbortController,this.#e=!0,this.$internals.eventEmitter.emit("connect",this)}disconnect(){this.#e!==!1&&(this.#e=!1,this.$internals.disconnectController.abort(),this.#n={})}mount(t,e="replace"){if(this.#t===null)throw new Error("Template is not set");if(this.#e===!0)return;let r=this.#t.cloneNode(!0);this.$internals.eventEmitter.emit("beforeConnect",this,r);let i=r.firstElementChild;e==="replace"?t.replaceChildren(r):e==="append"?t.append(r):e==="prepend"&&t.prepend(r),this.connect(i),this.slots.mountChildren(),this.$internals.eventEmitter.emit("mount",this)}unmount(){this.#e!==!1&&(this.$internals.eventEmitter.emit("beforeUnmount",this),this.disconnect(),this.slots.unmountChildren(),this.slots.clearSlotRefs(),this.$internals.root?.remove(),this.$internals.eventEmitter.emit("unmount",this))}$on(t,e,r){return t.addEventListener(e,r,{signal:this.$internals.disconnectController.signal}),()=>t.removeEventListener(e,r)}defineSlots(...t){this.slots.defineSlots(...t)}addChildComponent(t,...e){if(this.slots.slotExists(t)===!1)throw new Error("Slot does not exist");this.slots.addChildComponent(t,...e),this.#e&&this.slots.mountChildren(t)}removeChildComponent(t){this.slots.removeChildComponent(t)}},ht=class{constructor(t,e,r){for(let i=0;i<e.length;i++)if(t.slots.slotExists(e[i])===!1)throw new Error(`Slot ${e[i]} does not exist in component`);if(t.slots.slotExists(r)===!1)throw new Error(`Slot ${r} does not exist in component`);this.component=t,this.slotNames=e,this.activeSlotName=r}toggle(t){if(this.slotNames.indexOf(t)===-1)throw new Error(`Slot ${t} is not defined in SlotToggler`);if(t!=this.activeSlotName)for(let e=0;e<this.slotNames.length;e++)this.slotNames[e]==t?(this.component.slots.mountChildren(t),this.activeSlotName=t):this.component.slots.unmountChildren(this.slotNames[e])}};var K={code:-32700,message:"Parse error"};var dt=class{code=0;message="";data={};constructor(t){t instanceof Error?(this.message=t.message,this.data=t):typeof t=="string"?this.message=t:(this.code=t.code||0,this.message=t.message||"",this.data=t.data||{})}},m=class{error;id;constructor(t,e){this.error=new dt(t),this.id=e||null}},pt=class{result;id;constructor(t,e){this.result=t,this.id=e||null}},mt=class{data=[];total=0;page_size=0;current_page=0;total_pages=0;constructor(t){if(!Array.isArray(t.data))throw console.error(t),new Error("data must be an array");let e=typeof t.total=="number"?t.total:parseInt(t.total),r=typeof t.page_size=="number"?t.page_size:parseInt(t.page_size),i=typeof t.current_page=="number"?t.current_page:parseInt(t.current_page),s=typeof t.total_pages=="number"?t.total_pages:parseInt(t.total_pages);if(isNaN(e))throw console.error(t),new Error("total must be a number");if(isNaN(r))throw console.error(t),new Error("page_size must be a number");if(isNaN(i))throw console.error(t),new Error("current_page must be a number");if(isNaN(s))throw console.error(t),new Error("total_pages must be a number");this.data=t.data,this.total=t.total,this.page_size=t.page_size,this.current_page=t.current_page,this.total_pages=t.total_pages}},v=class{result;id;constructor(t,e){this.result=new mt(t),this.id=e||null}},gt=class{#t=new T;on(t,e){this.#t.on(t,e)}notify(t){t&&t.id&&typeof t.id=="string"&&(t.hasOwnProperty("error")||t.hasOwnProperty("result"))&&setTimeout(()=>this.#t.emit(t.id,t),0)}},ze=new gt;function M(n){return n&&(n.hasOwnProperty("error")||n.hasOwnProperty("result"))}function Xt(n,t=null){if(!M(n))return console.error(n),new m(K,t);if(n.error)return new m(n.error,n.id||t);if(n.result)return!1}function Qe(n,t=null){if(!M(n))return console.error(n),new m(K,t);let e=Xt(n);if(e)return e;try{return new v(n.result,n.id)}catch(r){return console.error(r),new m(r,n.id||t)}}function Ge(n){if(!M(n))return console.error(n),!1;if(n.error)return!1;if(n.result)return n.result.hasOwnProperty("total_pages")&&n.result.hasOwnProperty("current_page")&&n.result.hasOwnProperty("page_size")&&n.result.hasOwnProperty("total")&&n.result.hasOwnProperty("data")}function Je(n,t){if(!M(n))return console.error(n),new m(K,t);let e=Xt(n);return e||new pt(n.result,n.id||t)}function Xe(n){return n.error?"error":n.result?Ge(n)?"pagedData":"data":"error"}function Y(n={},t={}){if(t.notify=t.hasOwnProperty("notify")?t.notify:!0,!M(n))return new m(K,t.id);let e=Xe(n),r;return e==="error"?r=new m(n.error,n.id||t.id):e==="data"?r=Je(n,n.id||t.id):e==="pagedData"&&(r=Qe(n,n.id||t.id)),t.notify&&ze.notify(r),r}function Ze(n,t,e=2,r="..."){if(t<=1)return["1"];let i=[n];for(let u=1;u<=e;u++)i.unshift(n-u),i.push(n+u);let s=i.filter(u=>u>1&&u<t).map(u=>u.toString()),o=n>3+e,a=n===3+e,f=n<t-(2+e),l=n===t-(2+e);a&&s.unshift("2"),l&&s.push((t-1).toString()),o&&s.unshift(r),f&&s.push(r);let h=t.toString();return["1",...s,h]}function _t(n,t,e){let r=n.toString(),i=Ze(n,t);return i=i.map(function(s){let o=r==s?"active":"",a=e?e(s):"#";return s!="..."?`<li class="page-item ${o}" page-value="${s}"><a class="page-link" href="${a}">${s}</a></li>`:`<li class="page-item"><span class="page-link">${s}</span></li>`}),i.join(`
`)}function Zt(n,t,e){return`
  <ul class="pagination">
  ${_t(n,t,e)}
  </ul>`}var N=class extends _{pageUrlRenderer=null;#t=0;#e=0;constructor(){super();let t=this;this.setLayout(()=>Zt(t.#t,t.#e,t.pageUrlRenderer)),this.onConnect(()=>this.#n())}onPageChanged(t){return this.$internals.eventEmitter.on("page-changed",t)}setConfig(t){this.pageUrlRenderer=t.pageUrlRenderer}set currentPage(t){this.#t=t,this.#n()}get currentPage(){return this.#t}get totalPages(){return this.#e}#n(){if(!this.isConnected)return;let t=this.$internals.root;t.innerHTML=_t(this.#t,this.#e,this.pageUrlRenderer);let e=t.querySelectorAll(".page-item"),r=this;for(let i=0;i<e.length;i++)r.$on(e[i],"click",s=>{if(s.preventDefault(),!(s.target instanceof Element))return;let o=s.target;if(o.tagName!="LI"&&(o=o.parentElement,!(o instanceof Element)))return;let a=o.getAttribute("page-value");a&&(r.#t=parseInt(a),r.#n(),r.emit("page-changed",r.#t))})}setData(t){let e=Y(t);e&&e instanceof v&&(this.#t=e.result.current_page,this.#e=e.result.total_pages),this.#n()}};function te(){return`
<table class="table table-striped">
    <thead>
        <tr ref="header_row">

        </tr>
    </thead>
    <tbody ref="section_with_content" class="d-none">
    </tbody>
    <tbody ref="section_without_content" class="d-none">
        <tr>
            <td ref="no_content_text" class="col-12 text-center py-4" colspan="100"
                style="white-space: initial; word-wrap: break-word;">
                No items
            </td>
        </tr>
    </tbody>
    <tbody ref="section_error" class="d-none">
        <tr>
            <td ref="error_text" class="col-12 text-center py-4" colspan="100"
                style="white-space: initial; word-wrap: break-word;">

            </td>
        </tr>
    </tbody>
    <tbody ref="section_loading" class="">
        <tr>
            <td ref="loading_text" class="col-12 text-center py-4" colspan="100"
                style="white-space: initial; word-wrap: break-word;">
                Loading...
            </td>
        </tr>
    </tbody>

</table>
`}function ee(n,t){let e=document.createElement("tr");e.setAttribute("data-row-index",t.toString());let r=document.createElement("td");r.setAttribute("ref","index"),r.innerText=(t+1).toString(),e.appendChild(r);for(let i in n){let s=document.createElement("td");s.setAttribute("ref",i),s.innerText=n[i],e.appendChild(s)}return e}var tn={section_with_content:HTMLTableSectionElement.prototype,section_without_content:HTMLTableSectionElement.prototype,section_error:HTMLTableSectionElement.prototype,section_loading:HTMLTableSectionElement.prototype,header_row:HTMLTableRowElement.prototype,error_text:HTMLElement.prototype,loading_text:HTMLElement.prototype,no_content_text:HTMLElement.prototype},R=class extends _{#t="";#e=ee;#n="loading";#r="";#s="Loading...";#o="No items";get refs(){return this.getRefs()}#i=[];constructor(){super(),this.toggler=new F;let t=this;this.toggler.addItem("content",e=>{if(!t.isConnected)return!1;t.#a(),D(t.refs.section_with_content)},e=>{if(!t.isConnected)return!1;this.refs.section_with_content.innerHTML="",L(t.refs.section_with_content)}),this.toggler.addItem("no_content",e=>{if(!t.isConnected)return!1;D(t.refs.section_without_content)},e=>{if(!t.isConnected)return!1;L(t.refs.section_without_content)}),this.toggler.addItem("error",e=>{if(!t.isConnected)return!1;D(t.refs.section_error)},e=>{if(!t.isConnected)return!1;L(t.refs.section_error)}),this.toggler.addItem("loading",e=>{if(!t.isConnected)return!1;D(t.refs.section_loading)},e=>{if(!t.isConnected)return!1;L(t.refs.section_loading)}),this.toggler.setActive("loading"),this.onConnect(()=>{t.refs.header_row.innerHTML=t.#t,t.refs.error_text.innerHTML=t.#r,t.refs.loading_text.innerHTML=t.#s,t.refs.no_content_text.innerHTML=t.#o}),this.onConnect(()=>{t.toggler.runCallbacks()}),this.setLayout(te,tn)}setConfig(t){let e=Object.assign({tableRowRenderer:ee,headerHTML:null},t);e.tableRowRenderer&&(this.#e=e.tableRowRenderer),e.headerHTML&&(this.#t=e.headerHTML)}get state(){return this.#n}setContent(){this.#n="content",this.#a(),this.toggler.setActive("content")}setLoading(){this.#n="loading",this.toggler.setActive("loading")}setError(){this.#n="error",this.toggler.setActive("error")}setNoContent(){this.#n="no_content",this.toggler.setActive("no_content")}setLoadingText(t){this.#s=t,this.isConnected&&(this.refs.loading_text.innerHTML=t)}setErrorText(t){this.#r=t,this.isConnected&&(this.refs.error_text.innerHTML=t)}setNoContentText(t){this.#o=t,this.isConnected&&(this.refs.no_content_text.innerHTML=t)}setData(t){let e=Y(t);if(e instanceof m){this.#i=[],this.setErrorText(e.error.message),this.setError();return}if(!(e instanceof v)){this.#i=[],this.setErrorText("Invalid response"),this.setError();return}let r=e.result.data;if(r.length==0){this.#i=[],this.setNoContent();return}this.#i=r,this.setContent()}#a(){if(!this.isConnected)return;this.refs.section_with_content.innerHTML="";let t=this.#i;for(let e=0;e<t.length;e++){let r=this.#e(t[e],e);this.refs.section_with_content.appendChild(r)}}get rows(){return this.#i}};function ne(n){return`
<div style="display: contents;">
    <div class="d-flex flex-column" style="min-height: 75vh">
        <div class="flex-grow-1 mt-3">
            <h1 class="display-6 mb-3">
                <span ref="title">${lt(n.title)}</span>
                <button class="btn btn-outline-secondary btn-sm ms-2" ref="add_data_button">
                    Add
                </button>

                <button class="btn btn-outline-secondary btn-sm ms-2" ref="update_data_button">
                    Update
                </button>
            </h1>
        
            <table class="table table-striped" ref="table" scope-ref="table">
            </table>

        </div>
    </div>
    <div aria-label="Page navigation" class="mt-5 d-flex justify-content-center" ref="pagination_section" scope-ref="pagination">
    </div>
</div>
`}var Et=class extends _{tableView;pagination;refsAnnotation={title:HTMLSpanElement.prototype,add_data_button:HTMLButtonElement.prototype,update_data_button:HTMLButtonElement.prototype,table:HTMLTableElement.prototype,pagination_section:HTMLElement.prototype};#t="";constructor(){super(),this.defineSlots("table","pagination"),this.setLayout(ne),this.table=new R,this.pagination=new N,this.addChildComponent("table",this.table),this.addChildComponent("pagination",this.pagination);let t=this;this.onConnect(()=>{t.refs.title.innerText=t.#t})}get refs(){return this.getRefs()}get state(){return this.table.state}setLoading(){this.table.setLoading()}setContent(){this.table.setContent()}setError(){this.table.setError()}setNoContent(){this.table.setNoContent()}setLoadingText(t){this.table.setLoadingText(t)}setErrorText(t){this.table.setErrorText(t)}setNoContentText(t){this.table.setNoContentText(t)}set title(t){this.#t=t,this.isConnected&&(this.refs.title.innerText=this.#t)}get title(){return this.#t}setData(t){this.table.setData(t),this.pagination.setData(t)}onPageChanged(t){return this.pagination.onPageChanged(t)}};export{_ as Component,Kn as DOMReady,Et as PaginatedTable,N as Pagination,ht as SlotToggler,R as Table,F as Toggler,rr as copyToClipboard,lt as escapeHtml,nr as formatBytes,sr as formatDate,ir as formatDateTime,er as getDefaultLanguage,L as hideElements,Jn as hideModal,tr as isDarkMode,Gn as removeSpinnerFromButton,zn as scrollToBottom,qn as scrollToTop,D as showElements,Xn as showModal,Qn as showSpinnerInButton,Wn as ui_button_status_waiting_off,Un as ui_button_status_waiting_off_html,Yn as ui_button_status_waiting_on,Zn as unixtime};
